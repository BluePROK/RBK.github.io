<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><meta name="keywords" content="C#,闲谈,Java,C语言,Python,Hexo"><title>C#基础伪教程（三） | 蓝色的博客</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">C#基础伪教程（三）</h1><a id="logo" href="/.">蓝色的博客</a><p class="description">RBK</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">C#基础伪教程（三）</h1><div class="post-meta"><a href="/2018/03/25/CSharp-Third-Teaching/#comments" class="comment-count"></a><p><span class="date">Mar 25, 2018</span><span><a href="/categories/C/" class="category">C#</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>现在说一说关于枚举，很久之前才C语言里面用过一点点，但是没有深入，C#学习之后想真正深入一下，就得好好学习。枚举是一个被命名的整型常数集合，如一周只能为周一到周日等，只有固定的几种取值的时候可以定义为枚举。</p>
<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p>所谓枚举是将变量值一一列举出来，变量取值仅限于列举出来的值的范围内。<br>C#的枚举属于值类型，而且所有枚举都派生字System.Enum类，而值类型都继承于System.ValueType类，派生于该类的不一定全是值类型，枚举是唯一的例外。</p>
<h4 id="枚举的好处"><a href="#枚举的好处" class="headerlink" title="枚举的好处"></a>枚举的好处</h4><blockquote>
<p>枚举使代码更易于维护，有助于确保给变量指定合法的、期望的值。<br>枚举使代码更加清晰，允许用描述性的名称表示整数值，而不用含义模糊的数来表示。</p>
</blockquote>
<h4 id="枚举的特点体现"><a href="#枚举的特点体现" class="headerlink" title="枚举的特点体现"></a>枚举的特点体现</h4><blockquote>
<p>枚举不能继承其他的类，也不能被其他的类继承。<br>枚举类型实现了IComparable接口，可以实现多个接口。<br>枚举类型只能拥有私有构造器。<br>枚举类型中成员的访问修饰符是public static final。<br>枚举类型中成员列表名称是区分大小写的。</p>
</blockquote>
<h3 id="声明枚举"><a href="#声明枚举" class="headerlink" title="声明枚举"></a>声明枚举</h3><p>使用关键字enum进行声明，还需要定义枚举的名称、访问修饰符和类型等。具体用法如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] enum 枚举类型 [:类型]&#123;</span><br><span class="line">	标识符[=整型常数],</span><br><span class="line">	...</span><br><span class="line">	标识符[=整型常数],</span><br><span class="line">	标识符[=整型常数]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>上述各部分含义如下</p>
<ul>
<li>枚举类型修饰符为public、private或internal，默认为public。</li>
<li>枚举名称必须符合C#标识符定义规则。</li>
<li>枚举类型可以使byte、short、sbyte、ushort、int、unit、long或ulong，默认为int。</li>
<li>整型常数必须符合枚举类型。<br>如下创建一个四季的枚举类型<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public enum Season:int&#123;</span><br><span class="line">	Spring=0,</span><br><span class="line">	Summer=1,</span><br><span class="line">	Autumn,</span><br><span class="line">	Winter=2</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>可以指定整型常数，如果都不指定，默认第一个元素为0，后一个元素的值总是第一个元素的值加1，如Autumn和Winter均为2。</p>
<h3 id="使用枚举"><a href="#使用枚举" class="headerlink" title="使用枚举"></a>使用枚举</h3><p>以一个具体的代码来示例，枚举类型就用上面的Season<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">Season se;</span><br><span class="line">se=Season.Spring;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h3 id="枚举类型的转换"><a href="#枚举类型的转换" class="headerlink" title="枚举类型的转换"></a>枚举类型的转换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//成员对应的数字</span><br><span class="line">Console.WriteLine((Season)Spring);</span><br><span class="line">Console.WriteLine((int)Season.Winter);</span><br><span class="line">//输出0</span><br><span class="line">//输出2</span><br><span class="line">//数字对应的成员</span><br><span class="line">Console.WriteLine((Season)1);</span><br><span class="line">//输出Summer</span><br></pre></td></tr></table></figure>
<h3 id="枚举的相关方法"><a href="#枚举的相关方法" class="headerlink" title="枚举的相关方法"></a>枚举的相关方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Enum.GetName(typeof(Season),1);</span><br><span class="line">(Season)Enum.Parse(typeof(Season),&quot;Spring&quot;,true);</span><br><span class="line">(Season)Enum.Parse(typeof(Season),3,true);</span><br><span class="line">//以下两个方法可用于遍历，如foreach语句里</span><br><span class="line">Enum.GetName(typeof(Season));</span><br><span class="line">Enum.GetValues(typeof(Season));</span><br></pre></td></tr></table></figure>
<p>Parse()方法有三个参数，第一个数枚举类型，第二个是要转换的字符串，第三个true是忽略大小写。该方法返回的是一个引用，需要强制类型转换。</p>
<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><p>结构和类很相似，都可以表示包含数据成员和函数成员的数据结构，但是结构是一种值类型，不用堆分配。<br>结构派生System.ValueType类，适用于具有值语义的小的数据结构，比如平面世界的点，几何世界的一个边，一个矩形等，都是少量数据成员，不要求使用继承或引用表示，而且他们适合值语义（赋值的时候直接复制值，而不是复制引用）方便地实现。<br>结构和类的区别如下</p>
<ul>
<li>结构是值类型，而类是引用类型。</li>
<li>结构早栈中分配空间，类在堆中分配空间。</li>
<li>在结构中所有成员默认为public修饰符，类中默认为private。</li>
<li>结构支持构造函数，但无构造函数不能自定义，类可以。</li>
<li>结构不支持析构函数，类支持。</li>
<li>在结构中不对成员进行初始化操作，类可以。</li>
<li>结构派生自System.ValueType，类派生自System.Object。</li>
<li>结构不支持继承，也不能被继承，类可以。</li>
<li>结构可以不用new初始化，类必须要用类初始化。<br>结构和类在使用时有很多区别，因此实际编程时应遵循以下规则使用结构还是类</li>
<li>堆栈空间有限，对于大量的逻辑对象，创建类比创建结构好。</li>
<li>大多数情况下该类型只是一些数据时，结构是最好的选择，否则创建类。</li>
<li>在表现抽象或者多层次的数据时，类是最好的选择。</li>
<li>如果该类型不继承自任何类型时使用结构，否则使用类。</li>
<li>该类型的实例不会被频繁用于集合中时使用结构，否则使用类。<h3 id="声明结构"><a href="#声明结构" class="headerlink" title="声明结构"></a>声明结构</h3>C#中声明一个结构用关键字struct，语法如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] struct 结构名称 [接口]&#123;</span><br><span class="line">	结构体</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>上述语法主要参数含义：</p>
<ol>
<li>修饰符主要为public、private、internal、protected或new，默认为public。</li>
<li>结构名称必须符合C#标识符定义规则。</li>
<li>接口是可选参数。结构可以实现接口，但是不能从另一个结构或者类继承，而且不能作为一个类的基类。</li>
<li>结构体包括数据成员和成员函数，它们不能使用protected或protected internal修饰符，也不能使用abstract或sealed修饰符。<br>简单示例代码如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">struct Point&#123;</span><br><span class="line">	public int X&#123;get;set;&#125;</span><br><span class="line">	public int Y&#123;get;set;&#125;</span><br><span class="line">&#125;</span><br><span class="line">struct Student&#123;</span><br><span class="line">	public int ID;</span><br><span class="line">	public string name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="结构的使用"><a href="#结构的使用" class="headerlink" title="结构的使用"></a>结构的使用</h3><p>结构成员分为两类：数据成员和成员函数以及类型。<br>数据成员包括常量和字段。函数成员包括属性、方法、事件、索引器、运算符以及构造函数。具体如下：</p>
<ul>
<li>常量：表示常量的值。</li>
<li>字段：结构中声明的变量。</li>
<li>属性：用于访问对象或结构特性的成员。</li>
<li>方法：包含一系列语句的代码块，通过这些代码能够实现预先定义的计算或操作。</li>
<li>事件：一种使对象或结构能够提供通知的成员。</li>
<li>索引器：又被称为含参属性，是一种含有参数的属性，提供以索引的方式访问对象。</li>
<li>运算符：通过表达式运算符可以对该结构体的实例进行运算。</li>
<li>构造函数：包括静态构造函数和实例构造函数。静态构造函数用static修饰，实例构造函数不必static。<br>简单代码如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">struct Time&#123;</span><br><span class="line">	public bool off;</span><br><span class="line">	private int hour,minute,second;</span><br><span class="line">	public Time(int h,int m,int s)&#123;</span><br><span class="line">		this.h=h;</span><br><span class="line">		this.s=s;</span><br><span class="line">		this.m=m;</span><br><span class="line">		this.off=false;</span><br><span class="line">	&#125;</span><br><span class="line">	public int Hour&#123;</span><br><span class="line">		get&#123;return this.hour;&#125;</span><br><span class="line">		set&#123;</span><br><span class="line">			if (value &gt;= 0&amp;&amp; value &lt;= 23)</span><br><span class="line">				this.hour=value;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public int Minute&#123;</span><br><span class="line">		get&#123;return this.minute;&#125;</span><br><span class="line">		set&#123;</span><br><span class="line">			if (value&gt;=0&amp;&amp;value&lt;=59)</span><br><span class="line">				this.minute=value;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public int Second&#123;</span><br><span class="line">		get&#123;return this.second;&#125;</span><br><span class="line">		set&#123;</span><br><span class="line">			if (value&gt;=0&amp;&amp;value&lt;=59)</span><br><span class="line">				this.second=value;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public void Show()&#123;</span><br><span class="line">		string s=&quot;&quot;;</span><br><span class="line">		if (off)&#123;</span><br><span class="line">			s=this.hoir&gt;12?&quot;PM&quot;:&quot;AM&quot;;</span><br><span class="line">			this.hour=this.hour&gt;12?this.hour-12:this.hour;</span><br><span class="line">		&#125;</span><br><span class="line">		Console.WriteLine(&quot;当前时间是：&#123;0&#125;时&#123;1&#125;分&#123;2&#125;秒&#123;3&#125;&quot;,this.hour,this.minute,this.second,s);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>以下是简单应用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">static void Main(string[] args)&#123;</span><br><span class="line">	Time t1=new Time();</span><br><span class="line">	t1.hour=19;</span><br><span class="line">	t1.minute=32;</span><br><span class="line">	t1.second=50;</span><br><span class="line">	t1.Show();</span><br><span class="line">	</span><br><span class="line">	Time t2=new Time(10,15,58);</span><br><span class="line">	t2.Show();</span><br><span class="line">	</span><br><span class="line">	Time t3=new Time(23,4,27);</span><br><span class="line">	t3.off=true;</span><br><span class="line">	t3.Show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>和类一样，接口也定义了一系列属性、方法和事件。不同的是接口不提供实现，由类去实现，从类中被定义为单独的实体。接口表示一种约定。<br>C#中的接口和雷一样都属于引用类型，用来描述属于类或结构的一组相关功能，即定义了一种协议或者规范和标准。使用借接口注意以下几点：</p>
<ol>
<li>接口中只能包含属性、方法、事件和索引器，但是都不能够实现。</li>
<li>接口名称通常是以”I”开头的，例如IList，IComparable。</li>
<li>实现一个接口的语法和继承类似，如class Person ： IPerson。</li>
<li>通常都称继承了一个类，实现了一个接口。</li>
<li>如果累已经继承了一个父类，以逗号”,”分隔父类和接口。<h3 id="接口的声明"><a href="#接口的声明" class="headerlink" title="接口的声明"></a>接口的声明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] interface 接口名称&#123;</span><br><span class="line">	接口主体</span><br><span class="line">&#125;；</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>上述语法主要参数如下：</p>
<ol>
<li>接口的修饰符包括private，public，protected，internal和new，默认为public。</li>
<li>接口名称必须符合C#标识符的定义规则。</li>
<li>接口的主体是接口的详细定义，可以包括属性、方法以及事件等。<br>如下为一个简单示例<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface ISubject&#123;</span><br><span class="line">	//接口代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="定义接口成员"><a href="#定义接口成员" class="headerlink" title="定义接口成员"></a>定义接口成员</h3><p>接口成员可以是方法、属性、索引器或者事件，而不能包括常量、字段、运算符、构造函数、析构函数或类型等，也不能包含任何类的静态成员。</p>
<h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public interface IProduct&#123;</span><br><span class="line">	void AddProduct(Product P);</span><br><span class="line">	void DeleteProduct(Product P);</span><br><span class="line">	void ModifyProduct(Product P);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">int ProductID&#123;</span><br><span class="line">get&#125;;</span><br><span class="line">string MadeDate&#123;</span><br><span class="line">set&#125;;</span><br><span class="line">string ProductName&#123;</span><br><span class="line">get;</span><br><span class="line">set;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="索引器"><a href="#索引器" class="headerlink" title="索引器"></a>索引器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int this[int index]&#123;			//添加一个int类型索引器</span><br><span class="line">get;</span><br><span class="line">set;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event EventHandler Expired;</span><br></pre></td></tr></table></figure>
<h3 id="接口的实现"><a href="#接口的实现" class="headerlink" title="接口的实现"></a>接口的实现</h3><p>简单示例如下：<br>创建一个表示商品基本信息的Product类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class Product&#123;</span><br><span class="line">	public int pid;</span><br><span class="line">	public string MadeDate;</span><br><span class="line">	public string ProductName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>创建ProducrDao类并实现IProduct接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class ProductDao:IProduct</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure></p>
<p>在Product类中声明一个Product类的实例P，并在ProductDao类的构造函数中对P进行初始化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Product p;</span><br><span class="line">public ProductDao(Product p)&#123;</span><br><span class="line">	this.p=new pRODUCT();</span><br><span class="line">	this.p=p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字ProductDao类中实现接口中的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public void AddProduct(Product p)&#123;</span><br><span class="line">	Console.WriteLie(&quot;添加&quot;);</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">public Product QueryById(int ProductId)&#123;</span><br><span class="line">	ConsoleWriteLine(&quot;实现商品编号为&#123;0&#125;的查询功能&quot;,ProductId);</span><br><span class="line">	Product p=new Product();</span><br><span class="line">	return p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实现接口中的属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public int ProductId&#123;</span><br><span class="line">	get&#123;return p.pid;&#125;</span><br><span class="line">&#125;</span><br><span class="line">public string MadeDate&#123;</span><br><span class="line">	set&#123; p.MadeDate=value;&#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>在ProductDao类中实现对IProduct接口中定义的索引器进行实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public int this[int index]&#123;</span><br><span class="line">	get&#123;</span><br><span class="line">		if (indes&lt;0||index&gt;=100)</span><br><span class="line">			return 0;</span><br><span class="line">		else</span><br><span class="line">			return index;</span><br><span class="line">		&#125;</span><br><span class="line">		set&#123;</span><br><span class="line">			if (!(index&lt;0||index&gt;=100))</span><br><span class="line">				index=value;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在ProductDao中对事件进行实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public event EventHandler Expired&#123;</span><br><span class="line">	add&#123;Expired+=value;&#125;		//注册事件</span><br><span class="line">	remove &#123;Expired-=value;&#125;	//移除事件</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>接下来就是进行主函数的编写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">static void Main(string[] args)&#123;</span><br><span class="line">	product p=new  	p=roduct();</span><br><span class="line">	p.pid=123456;</span><br><span class="line">	p.madeDate&quot;2018-03-25&quot;;</span><br><span class="line">	p.ProductName=&quot;手套&quot;;</span><br><span class="line">	ProductDao=new PriductDao(p);</span><br><span class="line">	Console.WriteLine(&quot;jjj&quot;);</span><br><span class="line">	</span><br><span class="line">	pd.ADDProduct(o);</span><br><span class="line">	...</span><br></pre></td></tr></table></figure></p>
<h2 id="IComparable"><a href="#IComparable" class="headerlink" title="IComparable"></a>IComparable</h2><p>程序中常用到对数据进行排序，如结构数组或其他对象数组等。<br>.NET Framework内置了一个通用的比较方法，由值类型或类实现以创建类型的特定比较方法<br>IComparable接口声明如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface IComparable&#123;</span><br><span class="line">	int CompareTo(Object obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>仅提供一个方法，该方法作用是将当前实例与同一类型的另一个对象进行比和奥并返回一个帧数，该整数指示当前实例在排序顺序中的位置是位于另一个对象之前还是之后还是位置相当。</p>
<ul>
<li>小于零    当前实例小于obj参数</li>
<li>等于零    当前实例等于obj参数</li>
<li>大于零    当前实例大于obj参数<br>对一个课程类Course，包含了趁机和课程名称，进行成绩排序。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Course : IComparable</span><br><span class="line">&#123;</span><br><span class="line">	public string Name;</span><br><span class="line">	public int Score;</span><br><span class="line">	public Course(stringname,int score)</span><br><span class="line">	&#123;</span><br><span class="line">		Name=name;</span><br><span class="line">		Score=score;</span><br><span class="line">	&#125;</span><br><span class="line">	public int CompareTo(object obj)</span><br><span class="line">	&#123;</span><br><span class="line">		if (obj is Course)	//obj是否为Course类型</span><br><span class="line">		&#123;</span><br><span class="line">			Course otherCourse=obj as Course;</span><br><span class="line">			return this.Score-otherCourse.Score;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			throw new ArgumentException(&quot;当前比较的对象不是Course类型&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>在主函数中进行测试，创建一个集合，添加多个Course类对象，分别输出排序前后的结构，具体代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">static void Main(string[] args)</span><br><span class="line">&#123;</span><br><span class="line">	ArrayList list=new ArrayList();</span><br><span class="line">	list.Add(new Course(&quot;ASP.NET&quot;,60));</span><br><span class="line">	list.Add(new Course(&quot;SQL&quot;,85));</span><br><span class="line">	list.Add(new Course(&quot;C#&quot;,73));</span><br><span class="line">	list.Add(new Course(&quot;PHP&quot;,90));</span><br><span class="line">	Console.WriteLine(&quot;按成绩排序前结果如下：&quot;);</span><br><span class="line">	for (int i=0;i&lt;list.Count;i++)&#123;</span><br><span class="line">		Console.WriteLine(&quot;&#123;0&#125; &#123;1&#125;&quot;,(list[i]as Course).Name,(list[i] as Course).Score);</span><br><span class="line">	&#125;</span><br><span class="line">	Console.WriteLine(&quot;按成绩排序后结果如下&quot;);</span><br><span class="line">	list.Sort();		//调用Course类中CompareTo()方法进行排序</span><br><span class="line">	for (int i=0;i&lt;list.Count;i++)&#123;</span><br><span class="line">		Console.WriteLine(&quot;&#123;0&#125; &#123;1&#125;&quot;,(list[i]as Course).Name,(list[i] as Course).Score);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在调用Sort()方法时会对每个实例调用CompareTo()方法进行比较排序。</p>
<h2 id="IComparer"><a href="#IComparer" class="headerlink" title="IComparer"></a>IComparer</h2><p>.NET Framework还提供一个IComparer接口进行排序。<br>以上两个接口区别主要有两点：</p>
<ol>
<li>IComparable在需要比较的对象的类中实现，可以比较该对象和另外一个对象。</li>
<li>IComparer在单独的一个类中实现，可以比较任意两个对象。</li>
</ol>
<p>IComparer接口声明如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface IComparer</span><br><span class="line">&#123;</span><br><span class="line">	int Compare(object x,object y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>仅包含一个Compare()方法，比较两个对象并返回一个值，指示一个对象是小于、等于还是大于另一个对象。</p>
<ul>
<li>小于零    x参数小于y参数</li>
<li>等于零    x参数等于y参数</li>
<li>大于零    x参数大于y参数<br>以下为实现接口的简单示例<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class ComparerName:IComparer</span><br><span class="line">&#123;</span><br><span class="line">	public int Compare(object x,object y)</span><br><span class="line">	&#123;</span><br><span class="line">		if (x is Course &amp;&amp;y is Course)</span><br><span class="line">		&#123;</span><br><span class="line">			return Comparer.Default.Compare(((Course)x).Name,((Course)y).Name);</span><br><span class="line">		&#125;</span><br><span class="line">		else </span><br><span class="line">		&#123;</span><br><span class="line">			throw new ArgumentException(&quot;要比较的对象不是Course类型&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>接下来使用代码测试排序结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(&quot;排序后的结果&quot;）;</span><br><span class="line">IComparer SortByName=new ComparerName();</span><br><span class="line">//创建一个按名称排序的实例，以下会调用ComparerName类中的Compare()方法进行排序</span><br><span class="line">list.Sort(SortByName);</span><br><span class="line">for (int i=0;i&lt;list.Count;i++)</span><br><span class="line">&#123;</span><br><span class="line">	ConsoleWriteLine(&quot;&#123;0&#125; &#123;1&#125;&quot;,(list[i] as Course).Name,(list[i] s Course).Score);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>这次就写到这里，突然发现要真的一字不差的写出来，真的太多了，下次真得精简一下了，难怪这么累。</p>
<h2 id="OK-THANKS-FOR-READING-BYE-BYE"><a href="#OK-THANKS-FOR-READING-BYE-BYE" class="headerlink" title="OK,THANKS FOR READING.BYE BYE~"></a>OK,THANKS FOR READING.BYE BYE~</h2></div><div class="tags"><a href="/tags/编程/">编程</a><a href="/tags/C/">C#</a><a href="/tags/dotnet/">dotnet</a><a href="/tags/Microsoft/">Microsoft</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/04/07/CSharp-Forth-Teaching/" class="pre">C#基础伪教程（四）内置类</a><a href="/2018/03/23/aircrack-and-ali-s-oss/" class="next">使用aircrack进行WiFi监听和密码破解以及在Markdown插入图片</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#枚举"><span class="toc-text">枚举</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#枚举的好处"><span class="toc-text">枚举的好处</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#枚举的特点体现"><span class="toc-text">枚举的特点体现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#声明枚举"><span class="toc-text">声明枚举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用枚举"><span class="toc-text">使用枚举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#枚举类型的转换"><span class="toc-text">枚举类型的转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#枚举的相关方法"><span class="toc-text">枚举的相关方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结构"><span class="toc-text">结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#声明结构"><span class="toc-text">声明结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#结构的使用"><span class="toc-text">结构的使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口"><span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#接口的声明"><span class="toc-text">接口的声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定义接口成员"><span class="toc-text">定义接口成员</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#方法"><span class="toc-text">方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#属性"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#索引器"><span class="toc-text">索引器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#事件"><span class="toc-text">事件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接口的实现"><span class="toc-text">接口的实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IComparable"><span class="toc-text">IComparable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IComparer"><span class="toc-text">IComparer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OK-THANKS-FOR-READING-BYE-BYE"><span class="toc-text">OK,THANKS FOR READING.BYE BYE~</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/04/24/CSharp-Sixth-SQLCon/">C#基础伪教程（六）SQL数据库访问及线程操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/20/CSharp-Fifth-Stream/">C#基础伪教程（五）C#的流操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/07/CSharp-Forth-Teaching/">C#基础伪教程（四）内置类</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/25/CSharp-Third-Teaching/">C#基础伪教程（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/23/aircrack-and-ali-s-oss/">使用aircrack进行WiFi监听和密码破解以及在Markdown插入图片</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/22/Java-SocketProgramming/">基于Socket的Java网络通信讲解与实例</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/18/CSharp-Second-Teaching/">C#基础伪教程（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/17/C-First-Teaching/">C#基础伪教程（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/15/hexo_use/">使用HEXO+GITHUB搭建自己的博客</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/14/article-title/">article-title</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/无线安全/">无线安全</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Socket/" style="font-size: 15px;">Socket</a> <a href="/tags/编程/" style="font-size: 15px;">编程</a> <a href="/tags/dotnet/" style="font-size: 15px;">dotnet</a> <a href="/tags/Microsoft/" style="font-size: 15px;">Microsoft</a> <a href="/tags/SQL数据库/" style="font-size: 15px;">SQL数据库</a> <a href="/tags/流/" style="font-size: 15px;">流</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/C/" style="font-size: 15px;">C#</a> <a href="/tags/网络编程/" style="font-size: 15px;">网络编程</a> <a href="/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/tags/kali/" style="font-size: 15px;">kali</a> <a href="/tags/aircrack-ng/" style="font-size: 15px;">aircrack-ng</a> <a href="/tags/无线安全/" style="font-size: 15px;">无线安全</a> <a href="/tags/博客/" style="font-size: 15px;">博客</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Borui Kang.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>