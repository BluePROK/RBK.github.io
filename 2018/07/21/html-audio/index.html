<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是我的博客在github的镜像。"><meta name="keywords" content="C#,闲谈,Java,C语言,Python,Hexo,前端,html,css,js"><title>HTML5中的多媒体以及Canvas绘图 | 蓝色的博客</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/RBK.github.io/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/RBK.github.io/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/RBK.github.io/favicon.ico"><link rel="bookmark" href="/RBK.github.io/favicon.ico"><link rel="apple-touch-icon" href="/RBK.github.io/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/RBK.github.io/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/RBK.github.io/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">HTML5中的多媒体以及Canvas绘图</h1><a id="logo" href="/RBK.github.io/.">蓝色的博客</a><p class="description">github</p></div><div id="nav-menu"><a href="/RBK.github.io/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/RBK.github.io/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/RBK.github.io/about/"><i class="fa fa-user"> 关于</i></a><a href="/RBK.github.io/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">HTML5中的多媒体以及Canvas绘图</h1><div class="post-meta"><a href="/RBK.github.io/2018/07/21/html-audio/#comments" class="comment-count"><i id="changyan_count_unit" data-xid="2018/07/21/html-audio/"></i>留言,<i id="changyan_parti_unit" data-xid="2018/07/21/html-audio/"></i>参与</a><p><span class="date">Jul 21, 2018</span><span><a href="/RBK.github.io/categories/Html/" class="category">Html</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>网络上除了文本图片，还可以添加音频和视频文件，但是网页上似乎没有关于音频和视频的标准，更多是通过插件解决的，HTML5中新增了音频和视频的标记，同时还有滚动文字的设计。</p>
<h2 id="音频标记"><a href="#音频标记" class="headerlink" title="音频标记"></a>音频标记</h2><p>大多数音频是通过插件来播放音频的，常见的就是熟知的Flash，这也就是为什么浏览器播放音乐的时候都要求安装Flash插件的原因。<br>主要支持三种音频格式，分别为OGG、MP3和WAV，输入的基本格式如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio src=&quot;文件名&quot; controls=&quot;controls&quot;&gt;</span><br><span class="line">内容</span><br><span class="line">&lt;/audio&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中[内容]为当浏览器不支持audio元素的时候显示。</p>
<h3 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h3><p>audio标记常见属性及含义如下表所示</p>
<p><table border="1"><tr><th>属性</th><th>值</th><th>描述</th></tr><tr><td rowspan="5">autoplay</td><td>autoplay(自动播放)</td><td>音频在就绪后立即播放</td></tr><tr><td>controls(控制)</td><td>向用户显示播放控件，如开始按钮</td></tr><tr><td>loop(循环)</td><td>当音频结束时重新开始播放</td></tr><tr><td>preload(加载)</td><td>音频在页面加载的时候进行加载，并预备播放，若使用”autoplay”，则忽略该属性</td></tr><tr><td>url(地址)</td><td>要播放的音频的URL地址</td></tr><tr><td>autobuffer</td><td>autobuffer(自动缓冲)</td><td>在网页显示的时候，该二进制属性表示是由用户代理（浏览器）自动缓冲的内容，还是由用户使用相关API进行内容缓冲</td></tr></table><br>可以通过source属性添加多个示例文件，如下所示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio controls=&quot;controls&quot;&gt;</span><br><span class="line">&lt;source src=&quot;1.ogg&quot; type=&quot;audio/ogg&quot;&gt;</span><br><span class="line">&lt;source src=&quot;2.mp3&quot; type=&quot;audio/mpeg&quot;&gt;</span><br><span class="line">&lt;/audio&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="音频解码器"><a href="#音频解码器" class="headerlink" title="音频解码器"></a>音频解码器</h3><p>音频解码器定义了音频数据流编码和解码的算法，其中编码器主要对数据流进行编码操作，用于传输和存储，播放器主要是对音频文件进行解码随后播放，目前使用较多的解码器是Vorbis和ACC。</p>
<h3 id="浏览器对audio支持情况"><a href="#浏览器对audio支持情况" class="headerlink" title="浏览器对audio支持情况"></a>浏览器对audio支持情况</h3><p>不同浏览器对audio标记支持不同，如下是几个常见浏览器的情况，话说感觉这个好烦，每个浏览器都不一样，还得专门判断选择不同的文件。</p>
<p><table border="1"><tr><th>×</th><th>Firefox 3.5+</th><th>IE 9.0+</th><th>Opera 10.5+</th><th>Chrome 3.0+</th><th>Safari 3.0+</th></tr><tr><td>OGG Vorbis</td><td align="center">√</td><td align="center">×</td><td align="center">√</td><td align="center">√</td><td align="center">×</td></tr><tr><td align="center">MP3</td><td align="center">×</td><td align="center">√</td><td align="center">×</td><td align="center">√</td><td align="center">√</td></tr><tr><td align="center">WAV</td><td align="center">√</td><td align="center">×</td><td align="center">√</td><td align="center">×</td><td align="center">√</td></tr></table></p>
<h2 id="视频标记"><a href="#视频标记" class="headerlink" title="视频标记"></a>视频标记</h2><p>同音频标记，视频也是使用插件播放，如Flash插件，然而并非所有浏览器有同一个插件，这时候就需要有一个统一的标准方法。<br>主要支持三种音频格式，分别为OGG、WebM和MPEG-4，输入的基本格式如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;video src=&quot;文件名&quot; controls=&quot;controls&quot;&gt;</span><br><span class="line">内容</span><br><span class="line">&lt;/video&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="常用属性-1"><a href="#常用属性-1" class="headerlink" title="常用属性"></a>常用属性</h3><p>video标记常见属性及含义如下表所示</p>
<p><table border="1"><tr><th>属性</th><th>值</th><th>描述</th></tr><tr><td>autoplay</td><td>autoplay</td><td>视频在就绪后立刻播放</td></tr><tr><td rowspan="4">controls</td><td>controls</td><td>向用户显示控件，如播放按钮</td></tr><tr><td>loop</td><td>每当视频结束时重新开始播放</td></tr><tr><td>preload</td><td>视频在页面加载的时候进行加载，并预备播放，如果使用”autoplay”，则忽略该属性</td></tr><tr><td>url</td><td>要播放的视频的URL</td></tr><tr><td>width</td><td>宽度值</td><td>视频播放器的宽度</td></tr><tr><td>height</td><td>高度值</td><td>视频播放器的高度</td></tr><tr><td>poster</td><td>url</td><td>当视频为相应户这话缓冲不足的时候，该属性值链接获取一张图像，图像将以一定比例显示出来</td></tr></table><br>由上表可知用户可以自定义视频文件显示的大小，通过width和height属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;video width=&quot;320&quot; height=&quot;240&quot; controls src=&quot;123.mp4&quot;&gt;</span><br><span class="line">&lt;/video&gt;</span><br></pre></td></tr></table></figure></p>
<p>可以通过source属性添加多个示例文件，如下所示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;video controls=&quot;controls&quot;&gt;</span><br><span class="line">&lt;source src=&quot;1.ogg&quot; type=&quot;video/ogg&quot;&gt;</span><br><span class="line">&lt;source src=&quot;2.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class="line">&lt;/video&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="视频解码器"><a href="#视频解码器" class="headerlink" title="视频解码器"></a>视频解码器</h3><p>视频解码器定义了视频数据流编码和解码的算法，其中编码器主要对数据流进行编码操作，用于传输和存储，播放器主要是对视频文件进行解码随后播放。HTML5中使用较多的视频解码文件是Theora、H.264和VP8。</p>
<h3 id="浏览器对video支持情况"><a href="#浏览器对video支持情况" class="headerlink" title="浏览器对video支持情况"></a>浏览器对video支持情况</h3><p>不同浏览器对video标记支持不同，如下是几个常见浏览器的情况，话说感觉这个好烦，每个浏览器都不一样，还得专门判断选择不同的文件。</p>
<p><table border="1"><tr><th>×</th><th>Firefox 4.0+</th><th>IE 9.0+</th><th>Opera 10.6+</th><th>Chrome 6.0+</th><th>Safari 3.0+</th></tr><tr><td>OGG</td><td align="center">√</td><td align="center">×</td><td align="center">√</td><td align="center">√</td><td align="center">×</td></tr><tr><td align="center">MPEG-4</td><td align="center">×</td><td align="center">√</td><td align="center">×</td><td align="center">√</td><td align="center">√</td></tr><tr><td align="center">wEBm</td><td align="center">√</td><td align="center">×</td><td align="center">√</td><td align="center">√</td><td align="center">×</td></tr></table><br>其中[内容]为当浏览器不支持audio元素的时候显示。</p>
<h2 id="网页滚动文字"><a href="#网页滚动文字" class="headerlink" title="网页滚动文字"></a>网页滚动文字</h2><p>使用<strong>marquee</strong>标签可以将文字设置为动态滚动效果，只需要将需要滚动的文字添加到标记中间，而且可以在标记中设置相应的字体颜色。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;font size=&quot;5&quot; color=&quot;#cc0000&quot;&gt;</span><br><span class="line">	文字滚动示例：&lt;marquee&gt;千树万树梨花开&lt;/marquee&gt;</span><br><span class="line">&lt;/font&gt;</span><br></pre></td></tr></table></figure></p>
<p>在未设置宽度的时候滚动文字默认占一行。<br>通过<strong>direction</strong>属性设置滚动方向，有上up、下down、左left和右right。<br>通过<strong>behavior</strong>属性设置滚动的方式，分为循环滚动scroll（默认），边缘停止slide和边缘弹回的方式alternate。<br>通过<strong>scrollamount</strong>属性设置文字滚动的速度，单位是px。<br>通过<strong>scrolldelay</strong>属性设置滚动的延迟，也就是时间间隔，单位是ms，间隔短了会很连续，长了则会产生跳跃感。<br>通过<strong>loop</strong>属性设置滚动次数，滚动指定次数后便停止。<br>通过<strong>marquee</strong>中的<strong>width</strong>和<strong>height</strong>设置宽高，即设置滚动范围，单位为px。<br>通过<strong>bgcolor</strong>属性设置滚动范围的背景颜色。</p>
<hr>
<p>差不多html5的基础内容到此就真的结束了，下面的css内容我补充到之前的文章里，然后就要开始卡js和jq了。终于到js了。</p>
<h2 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h2><p>Html5中有很多新特性，最值得一提的就是HTML Canvas，对2D或者位图进行动态，脚本的渲染。Canvas是一个矩形区域，使用JavaScript控制其每一个像素。<br>Canvas在网页中常见的形式如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;myCanvas&quot; width=&quot;300&quot; height=&quot;300&quot; style=&quot;border:1px solid #c3c3c3;&quot;&gt;</span><br><span class="line">You browser does not support the canvas element.</span><br><span class="line">&lt;/canvas&gt;</span><br></pre></td></tr></table></figure></p>
<p>id表示画布对象的名称，width和height分别表示宽高，最初画布是不可见的，所以需要设置css属性使其可见，如果不支持canvas则会显示提示信息。<br>本身canvas只是一个容器，使用脚本语言JavaScript进行绘制图像。</p>
<h3 id="绘制图像的基本步骤"><a href="#绘制图像的基本步骤" class="headerlink" title="绘制图像的基本步骤"></a>绘制图像的基本步骤</h3><ol>
<li>使用id寻找canvas元素，即获取当前画布</li>
<li>创建context对象，当前唯一被强制必须支持的是2d，如果不支持返回null</li>
<li>绘制图形，先将其染成红色，随后绘制成矩形，并规定其大小及位置。<br>代码分别如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line"></span><br><span class="line">var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">cxt.fillStyle=&quot;#FF0000&quot;;</span><br><span class="line">cxt.fillRect(0,0,150,75);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="基本图形的绘制"><a href="#基本图形的绘制" class="headerlink" title="基本图形的绘制"></a>基本图形的绘制</h3><p>矩形如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;canvas id=&quot;myCanvas&quot; width=&quot;300&quot; height=&quot;300&quot; style=&quot;border:1px solid blue;&quot;&gt;</span><br><span class="line">	&lt;/canvas&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">		var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">		cxt.fillStyle=&quot;rgb(0,0,200)&quot;;</span><br><span class="line">		cxt.fillRect(10,20,100,100);</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/84569173.jpg" alt="image"><br>圆形的绘制，js代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">	var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">	cxt.fillStyle=&quot;#FFaa00&quot;;</span><br><span class="line">	cxt.beginPath();</span><br><span class="line">	cxt.arc(70,18,15,0,Math.PI*2,true);</span><br><span class="line">	cxt.closePath();</span><br><span class="line">	cxt.fill();</span><br></pre></td></tr></table></figure></p>
<p>使用beginPath()方法开始绘制路线，arc(x,y,radius,startAngle,endAngle,anticlockwise)函数参数分别为圆心坐标，圆的半径，起始和终止的弧度值（不是角度），画圆的方向，值为true或者false。<br><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/36446098.jpg" alt="image"></p>
<hr>
<p>每一个canvas实例对象都有一个path对象，绘制自定义图形的过程就是不断对path对象进行操作，每当有新的绘制任务出现都要调用beginPath()方法重置path对象至初始状态，进而进行绘制操作。<br>moveTo(x,y)设置绘图起始坐标，lineTo(x,y)表示目标坐标，之后调用closePath()方法使图形闭合，也可以不进行。<br>js代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">	var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">	cxt.fillStyle=&quot;#FFaa00&quot;;</span><br><span class="line">	cxt.beginPath();</span><br><span class="line">	cxt.moveTo(10,10);</span><br><span class="line">	cxt.lineTo(150,50);</span><br><span class="line">	cxt.lineTo(10,50);</span><br><span class="line">	cxt.lingWidth=14;</span><br><span class="line">	cxt.stroke();</span><br><span class="line">	cxt.closePath();</span><br></pre></td></tr></table></figure></p>
<p>使用两个lineTo()方法分别绘制终点不同的两条直线，路径准备完毕后，设置线条宽度，调用stroke()方法绘制直线。<br><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/44603084.jpg" alt="image"></p>
<h3 id="贝塞尔曲线"><a href="#贝塞尔曲线" class="headerlink" title="贝塞尔曲线"></a>贝塞尔曲线</h3><p>贝塞尔曲线是数值分析领域中电脑图形学中相当重要的参数曲线，高维的广泛化的贝塞尔曲线称为贝塞尔曲面，贝塞尔三角是一种特殊的实例。<br>bezierCurveTo()表示为一个画布的当前子路径添加一条三次贝塞尔曲线，开始起点是画布当前点，结束点是(x,y)。两条贝塞尔曲线控制点(cpX1,cpY1)和(cpX2,cpY2)定义了曲线的形状，方法返回的时候当前位置为(x,y)。<br>该方法定义如下<br>bezierCurveTo(cpX1,cpY1,cpX2,cpY2,x,y)</p>
<ul>
<li>cp1为和曲线开始点相关联的控制点的坐标</li>
<li>cp2为和曲线结束点相关联的控制点的坐标</li>
<li>曲线的结束点坐标</li>
</ul>
<p><mark><font size="5" color="red">看个热闹就好了，我完全不知道贝叶斯是啥，图好看就行</font></mark><br>完整代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body onload=&quot;draw(&apos;myCanvas&apos;)&quot;&gt;</span><br><span class="line">	&lt;canvas id=&quot;myCanvas&quot; width=&quot;300&quot; height=&quot;300&quot; style=&quot;border:1px solid blue;&quot;&gt;</span><br><span class="line">	&lt;/canvas&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		function draw(id)&#123;</span><br><span class="line">			var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">			var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">			cxt.fillStyle=&quot;#eeeeff&quot;;</span><br><span class="line">			cxt.fillRect(0,0,400,300);</span><br><span class="line">			var n=0;</span><br><span class="line">			var dx=150;</span><br><span class="line">			var dy=150;</span><br><span class="line">			var s=100;</span><br><span class="line">			cxt.beginPath();</span><br><span class="line">			cxt.globalCompositeOperation=&apos;and&apos;;</span><br><span class="line">			cxt.fileStyle=&apos;rgb(100,255,100)&apos;;</span><br><span class="line">			cxt.strokeStyle=&apos;rgb(0,0,100)&apos;;</span><br><span class="line">			var x=Math.sin(0);</span><br><span class="line">			var y=Math.cos(0);</span><br><span class="line">			var dig=Math.PI/15*11;</span><br><span class="line">			for (var i=0;i&lt;30;i++)&#123;</span><br><span class="line">				var x=Math.sin(i*dig);</span><br><span class="line">				var y=Math.cos(i*dig);</span><br><span class="line">				cxt.bezierCurveTo(dx+x*s,dy+y*s-100,dx+x*s+100,dy+y*s,dx+x*s,dy+y*s);</span><br><span class="line">			&#125;</span><br><span class="line">			cxt.closePath();</span><br><span class="line">			cxt.fill();</span><br><span class="line">			cxt.stroke();</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/20192674.jpg" alt="image"></p>
<h3 id="渐变图案"><a href="#渐变图案" class="headerlink" title="渐变图案"></a>渐变图案</h3><p>canvas支持两种渐变方式，一种是线性渐变，另一种是放射渐变（也称为径向渐变）。<br>创建渐变的步骤如下</p>
<ol>
<li>创建渐变对象<br><code>var gradient=cxt.createLinearGradient(0,0,0,canvas.height);</code></li>
<li>位渐变对象设置颜色，指明过渡方式<br><code><br>gradient.addColorStop(0,’#fff’);<br>gradient.addColorStop(1,’#000’);<br></code></li>
<li>为填充样式或者描边样式设置渐变<br><code>cxt.fillSytle=gradient;</code><br>除了可以变换成其他颜色，还可以为颜色设置alpha值（如透明），并且alpha值是可以变的，为了达到这个效果，需要使用颜色值的另一种标示方式，例如内置alpha组件的CSSrgba函数。<br><table><tr><th>方法</th><th>功能</th></tr><tr><td align="center">addColorStop</td><td align="center">允许两个参数，颜色和偏移量。颜色值为希望再便宜位置描边或填充时使用的颜色，偏移量是一个0.0到1.0的数值，代表沿着渐变线渐变的距离有多远</td></tr><tr><td align="center">createLinearGradient(x0,y0,x1,y1)</td><td align="center">沿着直线从(x0,y0)至(x1,y1)绘制渐变</td></tr></table><br>简单示例如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;canvas id=&quot;myCanvas&quot; width=&quot;500&quot; height=&quot;300&quot; style=&quot;border:1px solid blue;&quot;&gt;</span><br><span class="line">	&lt;/canvas&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		// 获取canvas元素对应的DOM对象</span><br><span class="line">	var canvas = document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">	// 获取在canvas上绘图的CanvasRenderingContext2D对象</span><br><span class="line">	var ctx = canvas.getContext(&apos;2d&apos;);</span><br><span class="line">	ctx.save();</span><br><span class="line">	ctx.translate(30 , 20);</span><br><span class="line">	// 创建线性渐变</span><br><span class="line">	lg = ctx.createLinearGradient(0 , 0 , 160 , 80);</span><br><span class="line">	// 向线性渐变上添加颜色</span><br><span class="line">	lg.addColorStop(0.2 , &quot;#f00&quot;);</span><br><span class="line">	lg.addColorStop(0.5 , &quot;#0f0&quot;);</span><br><span class="line">	lg.addColorStop(0.9 , &quot;#00f&quot;);</span><br><span class="line">	// 设置使用线性渐变作为填充颜色</span><br><span class="line">	ctx.fillStyle = lg;</span><br><span class="line">	// 填充一个矩形</span><br><span class="line">	ctx.fillRect(0 , 0 , 160 , 80);</span><br><span class="line">	// 恢复坐标系统</span><br><span class="line">	ctx.restore();</span><br><span class="line">	// 平移坐标系统</span><br><span class="line">	ctx.translate(280 , 160)</span><br><span class="line">	ctx.beginPath();</span><br><span class="line">	// 添加圆弧</span><br><span class="line">	ctx.arc(0 , 0  , 80 , 0 , Math.PI * 2 , true);</span><br><span class="line">	ctx.closePath();</span><br><span class="line">	ctx.lineWidth = 12;</span><br><span class="line">	// 再次创建线性渐变</span><br><span class="line">	lg2 = ctx.createLinearGradient(-40 , -40 , 80 , 50);</span><br><span class="line">	// 向线性渐变上添加颜色</span><br><span class="line">	lg2.addColorStop(0.1 , &quot;#ff0&quot;);</span><br><span class="line">	lg2.addColorStop(0.4 , &quot;#0ff&quot;);</span><br><span class="line">	lg2.addColorStop(0.8 , &quot;#f0f&quot;);</span><br><span class="line">	// 设置使用线性渐变作为边框颜色</span><br><span class="line">	ctx.strokeStyle = lg2;</span><br><span class="line">	ctx.stroke();</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>效果如下图所示<br><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/29649120.jpg" alt="image"></p>
<h3 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h3><p>需要使用方法createRadialGradient。<br>createRadialGradient(x0,y0,r0,x1,y1,r1)方法表示沿两个圆之间进行绘制渐变，其中参数分别为两个圆的圆心坐标和半径。<br>完整示例代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;canvas id=&quot;canvas&quot; width=&quot;500&quot; height=&quot;500&quot; style=&quot;border:1px solid blue;&quot;&gt;</span><br><span class="line">	&lt;/canvas&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var c=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">		var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">		var gradient=cxt.createRadialGradient(canvas.width/2,canvas.height/2,0,canvas.width/2,canvas.height/2,250);</span><br><span class="line">		gradient.addColorStop(0.2,&apos;#f0f&apos;);</span><br><span class="line">		gradient.addColorStop(0.8,&apos;#0f0&apos;);</span><br><span class="line">		cxt.fillStyle=gradient;</span><br><span class="line">		cxt.fillRect(0,0,500,500);</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p><mark><font color="red">这里需要注意，就是说不管是哪个渐变，上述的两个代码中create函数的参数canvas必须为canvas标签的id名，获取其对应的宽高，关于渐变的0~1的参数可以自行选取，径向渐变的圆半径也可以根据需要选取。<br><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/30296694.jpg" alt="image"></font></mark></p>
<h3 id="绘制变形图形"><a href="#绘制变形图形" class="headerlink" title="绘制变形图形"></a>绘制变形图形</h3><h4 id="变换原点坐标"><a href="#变换原点坐标" class="headerlink" title="变换原点坐标"></a>变换原点坐标</h4><p>translate(x,y)方法，在平面上以原先的点为基础平移x和y个单位，如原先点在(100,100)，调用translate(1,1)方法，原点坐标即为(101,101)。<br>js代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">	var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">	cxt.fillStyle=&quot;#eeeeff&quot;;</span><br><span class="line">	cxt.fillRect(0,0,400,300);</span><br><span class="line">	cxt.translate(200,50);</span><br><span class="line">	cxt.fillStyle=&apos;rgba(200,0,0,0.25)&apos;;</span><br><span class="line">	for (var i=0;i&lt;50;i++)&#123;</span><br><span class="line">		cxt.translate(20,20);</span><br><span class="line">		cxt.fillRect(0,0,100,50);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/72904767.jpg" alt="image"></p>
<p><font color="red">rgba颜色格式是CSS3所拥有的的，在RGB的基础上扩展了alpha透明度，上文也提到过这个值</font></p>
<h4 id="图形缩放"><a href="#图形缩放" class="headerlink" title="图形缩放"></a>图形缩放</h4><p>变形图形中最常用的就是图形缩放，实现这个功能需要使用方法scale(x,y)，参数分别为x和y方向上的值，即在两个方向上的缩放量，值为缩放的倍数，如x=2则表示所有元素宽变为原来的两倍。<br>js代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">	var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">	cxt.fillStyle=&quot;#eeeeff&quot;;</span><br><span class="line">	cxt.fillRect(0,0,400,300);</span><br><span class="line">	cxt.translate(200,50);</span><br><span class="line">	cxt.fillStyle=&apos;rgba(255,0,0,0.25)&apos;;</span><br><span class="line">	for (var i=0;i&lt;50;i++)&#123;</span><br><span class="line">		cxt.scale(3,0.5);</span><br><span class="line">		cxt.fillRect(0,0,100,50);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/92403941.jpg" alt="image"><br>从图上可以看到，红色矩形的颜色越来越深。</p>
<h4 id="旋转图形"><a href="#旋转图形" class="headerlink" title="旋转图形"></a>旋转图形</h4><p>使用rotate(angle)方法进行图形的旋转，甚至还可以直接修改底层变换矩阵以完成高级操作，如剪裁图像的绘制路径。<br>js代码如下所示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">	var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">	cxt.fillStyle=&quot;#eeeeff&quot;;</span><br><span class="line">	cxt.fillRect(0,0,400,300);</span><br><span class="line">	cxt.translate(200,50);</span><br><span class="line">	cxt.fillStyle=&apos;rgba(255,0,0,0.1)&apos;;</span><br><span class="line">	for (var i=0;i&lt;50;i++)&#123;</span><br><span class="line">		cxt.rotate(Math.PI/10);</span><br><span class="line">		cxt.fillRect(0,0,100,50);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/95318406.jpg" alt="image"></p>
<h3 id="绘制其他样式的图形"><a href="#绘制其他样式的图形" class="headerlink" title="绘制其他样式的图形"></a>绘制其他样式的图形</h3><h4 id="图形组合"><a href="#图形组合" class="headerlink" title="图形组合"></a>图形组合</h4><p>多个图形受制于绘制顺序，可以利用globalCompositeOperation属性改变这个做法，不仅可以在原有的图形后继续做图，还可以用来遮盖、清除（<font color="red">比clearRect强劲的多</font>）某些区域。<br><code>globalCompositeOperationtype</code><br>type有十二个属性值，具体如下</p>
<p><table border="1"><tr><th>属性值</th><th>说明</th></tr><tr><td align="center">source-over(default)</td><td align="center">默认设置，新图形会覆盖在原有内容之上</td></tr><tr><td align="center">destination-over</td><td align="center">在原有内容之下绘制新图形</td></tr><tr><td align="center">source-in</td><td align="center">新图形仅仅出现于原有内容重叠的部分，其他区域透明</td></tr><tr><td align="center">destination-in</td><td align="center">原有内容中与新图形重叠的部分会保留，其他区域透明</td></tr><tr><td align="center">source-out</td><td align="center">结果是只有新图形中与原有内容不重叠的部分会被绘制出来</td></tr><tr><td align="center">destination-out</td><td align="center">原有内容中与新图形不重叠的部分会被保留</td></tr><tr><td align="center">source-atop</td><td align="center">新图形中与原有内容重叠部分会被绘制，并覆盖在原有内容之上</td></tr><tr><td align="center">destination-atop</td><td align="center">原有内容中与新内容重叠的部分会被保留，并会在原有内容之下进行绘制新图形</td></tr><tr><td align="center">lighter</td><td align="center">两图形中重叠的部分做加色处理</td></tr><tr><td align="center">darker</td><td align="center">两图形中重叠的部分做减色处理</td></tr><tr><td align="center">xor</td><td align="center">重叠部分变透明</td></tr><tr><td align="center">copy</td><td align="center">新图形保留，其他都被擦除</td></tr></table><br>简单示例代码如下，这个代码中修改i的值即可直接修改不同的组合type<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">var cxt=c.getContext(&quot;2d&quot;);</span><br><span class="line">var options=new Array(</span><br><span class="line">	&quot;source-atop&quot;,</span><br><span class="line">	&quot;source-in&quot;,</span><br><span class="line">	&quot;source-out&quot;,</span><br><span class="line">	&quot;source-over&quot;,</span><br><span class="line">	&quot;destination-atop&quot;,</span><br><span class="line">	&quot;destination-in&quot;,</span><br><span class="line">	&quot;destination-out&quot;,</span><br><span class="line">	&quot;destination-over&quot;,</span><br><span class="line">	&quot;lighter&quot;,</span><br><span class="line">	&quot;copy&quot;,</span><br><span class="line">	&quot;xor&quot;);</span><br><span class="line">var i=10;</span><br><span class="line">cxt.fillStyle=&quot;blue&quot;;</span><br><span class="line">cxt.fillRect(10,10,60,60);</span><br><span class="line">cxt.globalCompositeOperation=options[i];</span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.fillStyle=&quot;red&quot;;</span><br><span class="line">cxt.arc(60,60,30,0,Math.PI*2,false);</span><br><span class="line">cxt.fill();</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/19992263.jpg" alt="image"></p>
<h4 id="带阴影的图形"><a href="#带阴影的图形" class="headerlink" title="带阴影的图形"></a>带阴影的图形</h4><p>十分简单，只需要设置几个属性即可，分别为shadowOffsetX，shadowOffsetY，shadowBlur和shadowColor。<br>颜色属性即用CSS的颜色值，shadowBlur表示阴影模糊程度（效果和os的高斯模糊滤镜相同），值越大阴影越模糊，X和Y表示阴影的偏移量，单位是px。<br>简单示例js如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var elem=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">	if (elem &amp;&amp; elem.getContext)&#123;</span><br><span class="line">		var cxt=elem.getContext(&quot;2d&quot;);</span><br><span class="line">		cxt.shadowOffsetX=15;</span><br><span class="line">		cxt.shadowOffsetY=15;</span><br><span class="line">		cxt.shadowBlur=10;</span><br><span class="line">		cxt.shadowColor=&quot;#f00&quot;;</span><br><span class="line">		//cxt.shadowColoe=&quot;&apos;rgba(255,0,0,0.5)&quot;;</span><br><span class="line">		cxt.fillStyle=&quot;#00f&quot;;</span><br><span class="line">		cxt.fillRect(20,20,150,100);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>关于颜色，可以采用十六进制也可以采用CSS的颜色值进行设置。<br><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/91129583.jpg" alt="image"></p>
<h4 id="绘制文字"><a href="#绘制文字" class="headerlink" title="绘制文字"></a>绘制文字</h4><p>在画布中绘制字符串的方式和操作其他对象方式相同，描绘文本轮廓，填充文本内部，同时所有图形变换及样式都能应用于文本。<br>文本绘制相应方法如下</p>
<p><table border="1"><tr><th>方法</th><th>说明</th></tr><tr><td align="center">fillText(text,x,y,maxwidth)</td><td align="center">绘制带fillStyle填充的文字，前三个指定文本参数和文字坐标，maxwidth是可选参数，用于限制字体大小，会强制将文本字体收缩至指定尺寸</td></tr><tr><td align="center">strokeText(text,x,y,maxwidth)</td><td align="center">绘制只有strokeStyle边框的文字，其余参数同上</td></tr><tr><td align="center">measureText</td><td align="center">方法返回一个度量对象，包含了在当前context环境下置顶文本的实际显示宽度</td></tr></table><br>简单示例js代码如下，其中font属性设置同CSS中的font-family属性，之后设置文字的水平对齐方式，可选值为start，end，left和right，默认为start，文本垂直对齐方式，可选值为top，hanging，middle和alphabetic，默认为alphabetic。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var elem=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">	if (elem &amp;&amp; elem.getContext)&#123;</span><br><span class="line">		var cxt=elem.getContext(&quot;2d&quot;);</span><br><span class="line">		cxt.fillStyle=&quot;#00f&quot;;</span><br><span class="line">		cxt.font=&quot;italic 30px 微软雅黑&quot;;</span><br><span class="line">		cxt.textAlign=&quot;left&quot;;</span><br><span class="line">		cxt.textBaseline=&quot;top&quot;;</span><br><span class="line">		cxt.fillText(&quot;祖国生日快乐&quot;,0,0,50);</span><br><span class="line">		cxt.font=&quot;bold 30px sans-serif&quot;;</span><br><span class="line">		cxt.strokeText(&quot;租过圣体快乐&quot;,0,50,100);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/9267354.jpg" alt="image"></p>
<h3 id="使用图像"><a href="#使用图像" class="headerlink" title="使用图像"></a>使用图像</h3><p>canvas画布可以引入图像进行处理，如进行图像合成或者制作背景等，目前仅可以在图像中添加文字，首先需要有一个img图像，为了避免页面加载完成后图片还没有加载，在加载页面的时候执行函数。<br>js如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function()&#123;</span><br><span class="line">	var ctx=document.getElementById(&quot;canvas&quot;).getContext(&quot;2d&quot;);</span><br><span class="line">	var img=new Image();</span><br><span class="line">	img.src=&quot;o1.jpg&quot;;</span><br><span class="line">	img.onload=function()&#123;</span><br><span class="line">		ctx.drawImage(img,0,0);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><mark>之后的内容我真的不想写了，写了一天了，也不想拖到第二天再继续，大致先列在这里吧，有需要的到时候再对应百度，记几个很小的点了</mark></p>
<h4 id="图像平铺"><a href="#图像平铺" class="headerlink" title="图像平铺"></a>图像平铺</h4><p>如css的background-repeat属性</p>
<h4 id="图像裁剪"><a href="#图像裁剪" class="headerlink" title="图像裁剪"></a>图像裁剪</h4><p>使用clip方法</p>
<h4 id="像素处理"><a href="#像素处理" class="headerlink" title="像素处理"></a>像素处理</h4><p>可以对每一个像素分别进行处理，一个像素由四个字节构成分别为RGBA四个值，可以使用ImageData对象进行保存图像像素值，有width、height和data三个属性其中data是一个连续的数组，图像中所有像素值都是保存在data里的。<br><code>imageData.data[index<em>4+0];<br>imageData.data[index</em>4+1];<br>imageData.data[index<em>4+2];<br>imageData.data[index</em>4+3];<br></code></p>
<h3 id="图形的保存与恢复"><a href="#图形的保存与恢复" class="headerlink" title="图形的保存与恢复"></a>图形的保存与恢复</h3><h2 id="在最后画俩图案学习学习"><a href="#在最后画俩图案学习学习" class="headerlink" title="在最后画俩图案学习学习"></a>在最后画俩图案学习学习</h2><h3 id="火柴人"><a href="#火柴人" class="headerlink" title="火柴人"></a>火柴人</h3><p>js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">var elem=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">	var cxt=elem.getContext(&quot;2d&quot;);</span><br><span class="line">	//头部</span><br><span class="line">	cxt.beginPath();</span><br><span class="line">	cxt.arc(100,50,30,0,Math.PI*2,true);</span><br><span class="line">	cxt.fill();</span><br><span class="line">	//笑脸</span><br><span class="line">	cxt.beginPath();</span><br><span class="line">	cxt.strokeStyle=&quot;#c00&quot;;</span><br><span class="line">	cxt.lineWidth=3;</span><br><span class="line">	cxt.arc(100,50,20,0,Math.PI,false);</span><br><span class="line">	cxt.stroke();</span><br><span class="line">	//眼睛</span><br><span class="line">	cxt.beginPath();</span><br><span class="line">	cxt.fillStyle=&quot;#c00&quot;;</span><br><span class="line">	cxt.arc(90,45,3,0,Math.PI*2,true);</span><br><span class="line">	cxt.fill();</span><br><span class="line">	cxt.moveTo(113,45);</span><br><span class="line">	cxt.arc(110,45,3,0,Math.PI*2,true);</span><br><span class="line">	cxt.fill();</span><br><span class="line">	cxt.stroke();</span><br><span class="line">	//身子</span><br><span class="line">	cxt.moveTo(100,80);</span><br><span class="line">	cxt.lineTo(100,150);</span><br><span class="line">	cxt.moveTo(100,100);</span><br><span class="line">	cxt.lineTo(60,120);</span><br><span class="line">	cxt.moveTo(100,100);</span><br><span class="line">	cxt.lineTo(140,120);</span><br><span class="line">	cxt.moveTo(100,150);</span><br><span class="line">	cxt.lineTo(80,190);</span><br><span class="line">	cxt.moveTo(100,150);</span><br><span class="line">	cxt.lineTo(140,190);</span><br><span class="line">	cxt.stroke();</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/71120150.jpg" alt="image"></p>
<h3 id="耐克商标"><a href="#耐克商标" class="headerlink" title="耐克商标"></a>耐克商标</h3><p>js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var elem=document.getElementById(&quot;canvas&quot;);</span><br><span class="line">	var cxt=elem.getContext(&quot;2d&quot;);</span><br><span class="line">	cxt.save();</span><br><span class="line">	cxt.beginPath();</span><br><span class="line">	cxt.moveTo(53,0);</span><br><span class="line">	//绘制上半曲线，第一组坐标为控制点，决定曲率第二组决定终点</span><br><span class="line">	cxt.quadraticCurveTo(30,79,99,78);</span><br><span class="line">	cxt.lineTo(371,2);</span><br><span class="line">	cxt.lineTo(74,134);</span><br><span class="line">	cxt.quadraticCurveTo(-55,124,53,0);</span><br><span class="line">	//红色填充</span><br><span class="line">	cxt.fillStyle=&quot;#da251c&quot;;</span><br><span class="line">	cxt.fill();</span><br><span class="line">	//3px深红描边</span><br><span class="line">	cxt.lineWidth=3;</span><br><span class="line">	//连接处平滑</span><br><span class="line">	cxt.lineJoin=&quot;round&quot;;</span><br><span class="line">	cxt.strokeStyle=&quot;#d40000&quot;;</span><br><span class="line">	cxt.stroke();</span><br><span class="line">	//恢复原有绘图状态</span><br><span class="line">	cxt.restore();</span><br></pre></td></tr></table></figure></p>
<p><img src="http://my-web-image.oss-cn-beijing.aliyuncs.com/18-7-21/41626743.jpg" alt="image"></p>
<h2 id="一些小方法以及注意事项"><a href="#一些小方法以及注意事项" class="headerlink" title="一些小方法以及注意事项"></a>一些小方法以及注意事项</h2><p>js中的很多颜色不仅可以使用RGB颜色，还可以使用RGBA颜色，即新增alpha，用来表示颜色透明度。<br>在body标签中的onload属性调用js中的函数，表示该函数再加载页面的时候进行执行。</p>
<h2 id="OK-THANKS-FOR-READING-BYE-BYE"><a href="#OK-THANKS-FOR-READING-BYE-BYE" class="headerlink" title="OK,THANKS FOR READING.BYE BYE~"></a>OK,THANKS FOR READING.BYE BYE~</h2></div><div class="tags"><a href="/RBK.github.io/tags/编程/">编程</a><a href="/RBK.github.io/tags/前端/">前端</a><a href="/RBK.github.io/tags/Web/">Web</a><a href="/RBK.github.io/tags/Html/">Html</a><a href="/RBK.github.io/tags/Canvas/">Canvas</a><a href="/RBK.github.io/tags/JavaScript/">JavaScript</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/RBK.github.io/2018/07/21/install-ftp-for-linux/" class="pre">Linux服务器安装FTP服务</a><a href="/RBK.github.io/2018/07/19/install-java-for-linux/" class="next">Linux环境下安装Java8环境</a></div><div id="comments"><div id="SOHUCS" sid="2018/07/21/html-audio/"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#音频标记"><span class="toc-text">音频标记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#常用属性"><span class="toc-text">常用属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#音频解码器"><span class="toc-text">音频解码器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浏览器对audio支持情况"><span class="toc-text">浏览器对audio支持情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#视频标记"><span class="toc-text">视频标记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#常用属性-1"><span class="toc-text">常用属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#视频解码器"><span class="toc-text">视频解码器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浏览器对video支持情况"><span class="toc-text">浏览器对video支持情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网页滚动文字"><span class="toc-text">网页滚动文字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Canvas"><span class="toc-text">Canvas</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#绘制图像的基本步骤"><span class="toc-text">绘制图像的基本步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基本图形的绘制"><span class="toc-text">基本图形的绘制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#贝塞尔曲线"><span class="toc-text">贝塞尔曲线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#渐变图案"><span class="toc-text">渐变图案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#径向渐变"><span class="toc-text">径向渐变</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#绘制变形图形"><span class="toc-text">绘制变形图形</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#变换原点坐标"><span class="toc-text">变换原点坐标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图形缩放"><span class="toc-text">图形缩放</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#旋转图形"><span class="toc-text">旋转图形</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#绘制其他样式的图形"><span class="toc-text">绘制其他样式的图形</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#图形组合"><span class="toc-text">图形组合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#带阴影的图形"><span class="toc-text">带阴影的图形</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#绘制文字"><span class="toc-text">绘制文字</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用图像"><span class="toc-text">使用图像</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#图像平铺"><span class="toc-text">图像平铺</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图像裁剪"><span class="toc-text">图像裁剪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#像素处理"><span class="toc-text">像素处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图形的保存与恢复"><span class="toc-text">图形的保存与恢复</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在最后画俩图案学习学习"><span class="toc-text">在最后画俩图案学习学习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#火柴人"><span class="toc-text">火柴人</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#耐克商标"><span class="toc-text">耐克商标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一些小方法以及注意事项"><span class="toc-text">一些小方法以及注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OK-THANKS-FOR-READING-BYE-BYE"><span class="toc-text">OK,THANKS FOR READING.BYE BYE~</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/07/21/install-ftp-for-linux/">Linux服务器安装FTP服务</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/07/21/html-audio/">HTML5中的多媒体以及Canvas绘图</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/07/19/install-java-for-linux/">Linux环境下安装Java8环境</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/07/06/html-list-using/">Html从入门到升华-列表及定位样式</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/07/04/java-lambda/">匿名内部类和lambda表达式</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/07/02/Hexo-Beauty-One/">优化hexo速度及简单配置</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/06/29/html-css-div/">Html从入门到升华-CSS入门就蒸发</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/06/27/html-basicInfo/">Html从入门到升华（One）</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/05/24/CSharp-SmallTip-TwoFormConnect/">C#GUI使用小教程：事件和委托</a></li><li class="post-list-item"><a class="post-list-link" href="/RBK.github.io/2018/05/24/CSharp-Seventh-NetConnection/">C#从入门到放弃：Socket</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/C/">C#</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/Hexo/">Hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/Html/">Html</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/Java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/Linux/">Linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/内部类/">内部类</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/RBK.github.io/categories/无线安全/">无线安全</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/RBK.github.io/tags/Socket/" style="font-size: 15px;">Socket</a> <a href="/RBK.github.io/tags/编程/" style="font-size: 15px;">编程</a> <a href="/RBK.github.io/tags/dotnet/" style="font-size: 15px;">dotnet</a> <a href="/RBK.github.io/tags/Microsoft/" style="font-size: 15px;">Microsoft</a> <a href="/RBK.github.io/tags/流/" style="font-size: 15px;">流</a> <a href="/RBK.github.io/tags/网络编程/" style="font-size: 15px;">网络编程</a> <a href="/RBK.github.io/tags/SQL数据库/" style="font-size: 15px;">SQL数据库</a> <a href="/RBK.github.io/tags/事件委托/" style="font-size: 15px;">事件委托</a> <a href="/RBK.github.io/tags/项目开发/" style="font-size: 15px;">项目开发</a> <a href="/RBK.github.io/tags/游戏开发/" style="font-size: 15px;">游戏开发</a> <a href="/RBK.github.io/tags/kali/" style="font-size: 15px;">kali</a> <a href="/RBK.github.io/tags/aircrack-ng/" style="font-size: 15px;">aircrack-ng</a> <a href="/RBK.github.io/tags/无线安全/" style="font-size: 15px;">无线安全</a> <a href="/RBK.github.io/tags/Python/" style="font-size: 15px;">Python</a> <a href="/RBK.github.io/tags/网络爬虫/" style="font-size: 15px;">网络爬虫</a> <a href="/RBK.github.io/tags/Java/" style="font-size: 15px;">Java</a> <a href="/RBK.github.io/tags/C/" style="font-size: 15px;">C#</a> <a href="/RBK.github.io/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/RBK.github.io/tags/前端/" style="font-size: 15px;">前端</a> <a href="/RBK.github.io/tags/Web/" style="font-size: 15px;">Web</a> <a href="/RBK.github.io/tags/博客/" style="font-size: 15px;">博客</a> <a href="/RBK.github.io/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/RBK.github.io/tags/Html/" style="font-size: 15px;">Html</a> <a href="/RBK.github.io/tags/Canvas/" style="font-size: 15px;">Canvas</a> <a href="/RBK.github.io/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/RBK.github.io/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/RBK.github.io/tags/Web服务器/" style="font-size: 15px;">Web服务器</a> <a href="/RBK.github.io/tags/FTP/" style="font-size: 15px;">FTP</a> <a href="/RBK.github.io/tags/Apache2/" style="font-size: 15px;">Apache2</a> <a href="/RBK.github.io/tags/服务器/" style="font-size: 15px;">服务器</a> <a href="/RBK.github.io/tags/匿名内部类/" style="font-size: 15px;">匿名内部类</a> <a href="/RBK.github.io/tags/lambda/" style="font-size: 15px;">lambda</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/RBK.github.io/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/RBK.github.io/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/RBK.github.io/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/RBK.github.io/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/RBK.github.io/archives/2018/03/">三月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/RBK.github.io/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/RBK.github.io/atom.xml">订阅</a> |  <a href="/RBK.github.io/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/RBK.github.io/." rel="nofollow">Borui Kang.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?01c362d616231bcf600eb6ff8fcca7f0";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/RBK.github.io/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/RBK.github.io/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script><script>window._config = { showScore: true };
(function(){ 
  var appid = 'cytH48S30'; 
  var conf = 'd0209038c6a14cf99471d758c8950ad6'; 
  var width = window.innerWidth || document.documentElement.clientWidth; 
  var nodes =document.getElementsByTagName("head")[0]||document.head||document.documentElement;
  if (/(Android|iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent) && width < 750) {  
      window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>');
  }
  else { 
    var loadJs=function(d,a){
      var b=document.createElement("script");b.setAttribute("type","text/javascript");
      b.setAttribute("charset","UTF-8");
      b.setAttribute("src",d);
      if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}
      nodes.appendChild(b)
    };
    loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); 
  } 
  var loadCss = function(cssString){  
    var style=document.createElement("style");  
    style.setAttribute("type", "text/css");  
    if(style.styleSheet){// IE  
        style.styleSheet.cssText = cssString;  
    } else {// w3c  
        var cssText = document.createTextNode(cssString);  
        style.appendChild(cssText);  
    }
    nodes.appendChild(style);
  }
  window.onload=function(){loadCss('.module-hot-topic,.module-cmt-float-bar{display:none!important}#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .cbox-prompt-w span.prompt-empty-w,#SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-form-w .form-text-w span.text-null,#SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-minwidth-w div.cont-comment-w a.comment-link-w,#SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-minwidth-w div.cont-comment-w span.comment-text-w,#SOHUCS #SOHU_MAIN .module-cmt-footer .section-service-w div.service-wrap-w a:hover,#SOHUCS #SOHU_MAIN .module-cmt-header .section-cbox-w .block-head-w div.header-login,#SOHUCS #SOHU_MAIN .module-cmt-header .section-title-w .title-user-w .user-wrap-w span.wrap-name-w,#SOHUCS #SOHU_MAIN .module-cmt-list .action-click-gw span.click-disable-eg a em.icon-name-bg,#SOHUCS #SOHU_MAIN .module-cmt-list .block-title-gw ul li div.title-name-gw,#SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .cmt-list-number .comment-number span.cy-number,#SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .cmt-list-number span.comment-number,#SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .type-lists li.active,#SOHUCS #SOHU_MAIN .module-cmt-list .msg-wrap-gw .wrap-action-gw .action-click-gw span a:hover,#SOHUCS #SOHU_MAIN .module-cmt-list .picture-box-gw div.box-action-gw a:hover,#SOHUCS #SOHU_MAIN .module-cmt-list .wrap-action-gw .action-click-gw span a:hover em.icon-name-bg,#SOHUCS #SOHU_MAIN .module-cmt-list .wrap-user-gw span.user-name-gw a{color:#40759b!important}#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .post-wrap-border-t div.post-wrap-border-t-r,#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w div.post-wrap-border-l,#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w div.post-wrap-border-r{display:none!important}#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .post-wrap-border-t div.post-wrap-border-t-l{background:#FFF!important;top:-2px!important}#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-function-w .uploading-wrapper-dw div.wrapper-image-dw,#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w div.post-wrap-main,#SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-form-w div.form-text-w,#SOHUCS #SOHU_MAIN .module-cmt-header .section-cbox-w .block-head-w div.header-login,#SOHUCS #SOHU_MAIN .module-cmt-list .module-cmt-box .post-wrap-w div.post-wrap-main{border:1px solid #e6e6e6!important;border-radius:20px 20px 20px 20px;margin:0!important}#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-issue-w .issue-btn-w a .btn-fw{width:130px!important;height:34px!important;line-height:33px!important;font-size:17px!important;background:#5483b1!important;border-radius:20px!important;color:#FFF!important;-webkit-box-shadow:0 -1px 4px #5483b1 inset;box-shadow:0 -1px 10px #5483b1 inset}#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-issue-w .issue-btn-w a .btn-fw:before{content:"发表评论"}#SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-issue-w .issue-btn-w a:hover .btn-fw{color:#40759b!important;background:#FFF!important}#SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .type-lists li{background:none!important;border-bottom:1px solid #e6e6e6}#SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .type-lists li.active{border:1px solid #e6e6e6;border-radius:10px 10px 0 0;border-bottom:none}#SOHUCS #SOHU_MAIN .module-cmt-list .block-title-gw ul li .title-name-gw div.title-name-gw-tag{background:#5483b1!important;border-radius:3px}#SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type div.cmt-list-border{background-color:#e6e6e6!important}#SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item{border:1px solid #e6e6e6!important}#SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item .nt-logo{text-align:center;line-height:40px;border-radius:50%!important;background:#e6e6e6!important}#SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item .nt-logo:before{content:"畅";font-size:22px;color:#FFF}#SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item a.nt-text,#SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item a.nt-text i{color:#5483b1!important}#SOHUCS #SOHU_MAIN .module-cmt-header .section-title-w .title-user-w .user-wrap-w{background:#FFF!important}');};
})();</script><script src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js"></script></body></html>